@model IEnumerable<Bangazon.Models.ProductViewModels.GroupedProducts>

@{
    ViewData["Title"] = "Types";
}



<h1>Product Types</h1>

<table class="table">
    <thead>
        <tr>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @{ foreach (var item in Model)
            {
                string productCountString = $"({item.ProductCount})";
                if (item.Products.ToList().Count > 0)
                {

                    <a href=@Url.Action("ProductListByType", "Products", new {Id = item.TypeId })><h2>@item.TypeName @productCountString</h2></a>
                    // <span>@productCountString</span>

                    @foreach (var p in item.Products)
                    {
                        //<a asp-controller="Products" asp-action="Details"><span>@p.Title</span></a>
                        <a href=@Url.Action("Details", "Products", new {Id = p.ProductId })>@p.Title</a>
                        <br />
                    }
                }

            }
        }
    </tbody>
</table>
